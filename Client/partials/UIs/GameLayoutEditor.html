<div ng-controller="GameLayoutEditorController">
    <div floating-window left="'55%'" top="'40%'" height="'500px'" width="'400px'" window-title="'Game Layout Editor!'"
         visible="visible">
        <div style="width: 50%; float: left;">
            <div>
                Width: 
                <input type="number" ng-model="model.game.gameLayout.width" />
            </div>
            <div>
                Height: 
                <input type="number" ng-model="model.game.gameLayout.height" />
            </div>
            <div>
                <button ng-click="model.toggleGrid()">Toggle Grid</button>
            </div>
            <div>
                <button ng-click="model.toggleCards()">Toggle Cards</button>
            </div>
            <div>
                Spaces:
                <div style="width: 150px; height: 100px;" fancy-list items="model.game.gameLayout.spaces" bind="model.selection.selectedSpace">
                    {{item.name}}
                </div>
                <button ng-click="model.addSpace()">Add Space</button>

            </div>

            <div>
                Texts:
                <div style="width: 150px; height: 100px;" fancy-list items="model.game.gameLayout.texts" bind="model.selection.selectedText">
                    {{item.name}}
                </div>
                <button ng-click="model.addText()">Add Text</button>
            </div>
            <div>
                Areas:
                <div style="width: 150px; height: 100px;" fancy-list items="model.game.gameLayout.areas" bind="model.selection.selectedArea">
                    {{item.name}}
                </div>
                <button ng-click="model.addArea()">Add Area</button>
            </div>
            <button ng-click="model.updateGame() ">save</button>
            {{model.updateStatus}} 
            
            <button ng-click="model.openScenarios()">Edit Scenarios</button>


        </div>
        <div style="width: 50%; float: left;">
            Edit {{model.selection.selectedLayoutPiece}}
            <div ng-switch="model.selection.selectedLayoutPiece">
                <div ng-switch-when="space">
                    <h2>{{model.selection.selectedSpace.name}}</h2>
                    <div>
                        Name:
                        <input type="text" ng-model="model.selection.selectedSpace.name" />
                    </div>
                    <div>
                        Left:
                        <input type="range" min="0" max="{{model.game.gameLayout.width}}" ng-model="model.selection.selectedSpace.left" />{{model.selection.selectedSpace.left | round}}
                    </div>
                    <div>
                        Top:
                        <input type="range" min="0" max="{{model.game.gameLayout.height}}" ng-model="model.selection.selectedSpace.top" />{{model.selection.selectedSpace.top | round}}
                    </div>
                    <div>
                        Width:
                        <input type="range" min="0" max="{{model.game.gameLayout.width}}" ng-model="model.selection.selectedSpace.width" />{{model.selection.selectedSpace.width | round}}
                    </div>
                    <div>
                        Height:
                        <input type="range" min="0" max="{{model.game.gameLayout.height}}" ng-model="model.selection.selectedSpace.height" />{{model.selection.selectedSpace.height | round}}
                    </div>
                    <div>
                        Vertical:
                        <input type="checkbox" ng-model="model.selection.selectedSpace.vertical" />
                    </div>
                    <div>
                        Resize Type:
                        <select ng-model="model.selection.selectedSpace.resizeType">
                            <option value="static">Static</option>
                            <option value="grow">Grow</option>
                        </select>
                    </div>
                    <button ng-click="model.removeSpace(model.selection.selectedSpace)">Remove</button>
                </div>
                <div ng-switch-when="area">
                    <h2>{{model.selection.selectedArea.name}}</h2>
                    <div>
                        Name:
                        <input type="text" ng-model="model.selection.selectedArea.name" />
                    </div>
                    <div>
                        Left:
                        <input type="range" min="0" max="{{model.game.gameLayout.width}}" ng-model="model.selection.selectedArea.left" />{{model.selection.selectedArea.left | round}}   
                    </div>
                    <div>
                        Top:
                        <input type="range" min="0" max="{{model.game.gameLayout.height}}" ng-model="model.selection.selectedArea.top" />{{model.selection.selectedArea.top | round}}   
                    </div>
                    <div>
                        Width:
                        <input type="range" min="0" max="{{model.game.gameLayout.width}}" ng-model="model.selection.selectedArea.width" />{{model.selection.selectedArea.width | round}}   
                    </div>
                    <div>
                        Height:
                        <input type="range" min="0" max="{{model.game.gameLayout.height}}" ng-model="model.selection.selectedArea.height" />{{model.selection.selectedArea.height | round}}   
                    </div>
                    <button ng-click="model.game.gameLayout.areas=model.game.gameLayout.areas.splice(model.game.gameLayout.areas.indexOf(model.selection.selectedArea),1);model.selection.selectedArea=null">Remove</button>
                </div>
                <div ng-switch-when="text">
                    <h2>{{model.selection.selectedText.name}}</h2>
                    <div>
                        Name:
                        <input type="text" ng-model="model.selection.selectedText.name" />
                    </div>
                    <div>
                        Text:
                        <input type="text" ng-model="model.selection.selectedText.text" />
                    </div>
                    <div>
                        Left:
                        <input type="range" min="0" max="{{model.game.gameLayout.width}}" ng-model="model.selection.selectedText.left" />{{model.selection.selectedText.left | round}}   
                    </div>
                    <div>
                        Top:
                        <input type="range" min="0" max="{{model.game.gameLayout.height}}" ng-model="model.selection.selectedText.top" />{{model.selection.selectedText.top | round}}   
                    </div>
                    <button ng-click="model.game.gameLayout.texts=model.game.gameLayout.texts.splice(model.game.gameLayout.texts.indexOf(model.selection.selectedText),1);model.selection.selectedText=null">Remove</button>
                </div>
            </div>
        </div>
    </div>
</div>